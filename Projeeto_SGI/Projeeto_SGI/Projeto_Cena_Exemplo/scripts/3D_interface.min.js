function startTutorial() {
    const intro = introJs();
    
    intro.setOptions({
        steps: [
            {
                intro: "Bem-vindo ao tutorial da interface 3D! üéâ"
            },
            {
                element: document.querySelector('#myCanvas'),
                intro: "Visualize o seu produto em diferentes perspetivas."
            },
            {
                element: document.querySelector('.interface-handler'),
                intro: "Ajuste o ambiente √† sua medida."
            },
            {
                element: document.querySelector('#power-checkbox'),
                intro: "Ligue/desligue a l√¢mpada."
            },
            {
                element: document.querySelector('#brightness-slider-div'),
                intro: "Ajuste a luminosidade da l√¢mpada."
            },
            {
                element: document.querySelector('#color-picker-div'),
                intro: "Escolha a cor da l√¢mpada."
            },
            {
                element: document.querySelector('#animation-configuration'),
                intro: "Aplique anima√ß√µes ao aplique, com diferentes articula√ß√µes."
            },
            {
                element: document.querySelector('#light-state-btn'),
                intro: "Ative/desative a luz ambiente."
            },
            {
                element: document.querySelector('#lightbulb-btn'),
                intro: "Coloque/remova a l√¢mpada do aplique."
            },
            {
                element: document.querySelector('#material-menu-btn'),
                intro: "Altere o material do aplique."
            },
            {
                element: document.querySelector('#fullscreen-btn'),
                intro: "Entre/saia do modo de ecr√£ inteiro."
            },
            {
                element: document.querySelector('#close-btn'),
                intro: "Clique para sair quando terminar. üôÇ"
            }
        ],
        showProgress: false, // Adds a progress bar
        showBullets: true, // Removes the bullet navigation
        nextLabel: 'Seguinte', // Text for the "Next" button
        prevLabel: 'Anterior', // Text for the "Back" button
        doneLabel: 'Terminar', // Text for the "Done" button
        
    });

    // Start the tutorial
    intro.start();
}

// Start the tutorial on page load
window.onload = function() {
    startTutorial();
};

// Make the modal draggable
const modal = document.getElementById('staticBackdrop');
const modalHeader = modal.querySelector('.modal-header');

modalHeader.onmousedown = function(event) {
    let shiftX = event.clientX - modal.getBoundingClientRect().left;
    let shiftY = event.clientY - modal.getBoundingClientRect().top;

    function moveAt(pageX, pageY) {
        modal.style.left = pageX - shiftX + 'px';
        modal.style.top = pageY - shiftY + 'px';
    }

    function onMouseMove(event) {
        moveAt(event.pageX, event.pageY);
    }

    document.addEventListener('mousemove', onMouseMove);

    document.onmouseup = function() {
        document.removeEventListener('mousemove', onMouseMove);
        modalHeader.onmouseup = null;
    };
};

modalHeader.ondragstart = function() {
    return false;
};

// Close modal when clicking outside of it
window.onclick = function(event) {
    if (event.target == modal) {
        bootstrap.Modal.getInstance(modal).hide();
    }
};

modal.addEventListener('show.bs.modal', function () {
    modal.style.left = '';
    modal.style.top = '';
});